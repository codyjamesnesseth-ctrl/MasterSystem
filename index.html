<!DOCTYPE html>
<html>
<head>
    <title>MASTER SYSTEM | CORE</title>
    <style>
        body { background: #000; color: #d4af37; font-family: monospace; padding: 20px; overflow: hidden; }
        #chat { height: 80vh; overflow-y: auto; border: 1px solid #333; padding: 10px; margin-bottom: 10px; }
        #input-area { display: flex; }
        #prompt { color: #d4af37; margin-right: 10px; }
        input { background: transparent; border: none; color: #fff; flex: 1; outline: none; font-family: monospace; font-size: 1.2em; }
        .scanline { position: fixed; top: 0; left: 0; width: 100%; height: 2px; background: rgba(212, 175, 55, 0.1); animation: scan 4s linear infinite; }
        @keyframes scan { from { top: 0; } to { top: 100%; } }
    </style>
</head>
<body>
    <div class="scanline"></div>
    <h3>MASTER SYSTEM | SOVEREIGN CORE</h3>
    <div id="chat"></div>
    <div id="input-area">
        <span id="prompt">>>></span>
        <input type="text" id="cmd" autofocus placeholder="AWAITING COMMAND...">
    </div>

    <script>
        const input = document.getElementById('cmd');
        const chat = document.getElementById('chat');

        input.addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                const val = input.value;
                chat.innerHTML += "<div><span style='color:#d4af37'>SIR:</span> " + val + "</div>";
                input.value = '';

                fetch('http://localhost:5000/chat', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({message: val})
                })
                .then(res => res.json())
                .then(data => {
                    chat.innerHTML += "<div style='margin-bottom:10px'><span style='color:#fff'>[MASTER SYSTEM]:</span> " + data.response + "</div>";
                    chat.scrollTop = chat.scrollHeight;
                })
                .catch(err => {
                    chat.innerHTML += "<div style='color:red'>[ERROR]: NEXUS BRIDGE OFFLINE</div>";
                });
            }
        });
    </script>
</body>
</html>
